

<div class="">
    <h1>{{ section.settings.headline }}</h1>
    {% for block in section.blocks %}
        <h2>{{ section.settings.SectionHeader }}</h2>
        <div class = "productcard">
            <input type="checkbox" id="product1section{{forloop.index}}" class = "selected">
            {% assign product1 = all_products[block.settings.product1] %}
            <label for="product1section-{{forloop.index}}">
                <div>
                    <div>{{product1.featured_image | image_url: width: 400 | image_tag}}</div>
                    <h3>{{ product1.title }}</h3>
                </div>
            </label>
        </div>
    {%endfor%}
  
</div>

{%stylesheet%}
.productcard{

}
.selected{
    display: none;
}
.selected:checked ~ .productcard{
    background: red;
}
{%endstylesheet%}

{% schema %}
    {
        "name": "Kit-Builder",
        "settings": [
            {
                "type": "text",
                "label": "Headline",
                "id": "headline"
            }
        ],
        "max_blocks": 6,
        "blocks":[
            {
                "name": "Kit Section",
                "type": "Kit-Section",
                "settings":[
                    {
                        "type": "text",
                        "label": "Section Header",
                        "id": "SectionHeader"
                    },
                    {
                        "type": "product",
                        "label": "Product",
                        "id": "product1"
                    },
                    {
                        "type": "product",
                        "label": "Product",
                        "id": "product2"
                    },
                    {
                        "type": "product",
                        "label": "Product",
                        "id": "product3"
                    }
                ]               
            }
        ],
        "presets": [
            {"name": "Kit-Builder"}
        ]
    }
{% endschema %}